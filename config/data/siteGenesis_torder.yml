###########   TOrder for SiteGenesis  ####################
#
# only one test per *.yml or *.yaml  !!!
#
####################################


- Action:

	Name: Homepage
	
	Request:
        Url: "http://dev02.lab04b.dw.demandware.net/s/SiteGenesis/home"
        Type: GET 
        Encoded: false

    Response:
        Httpcode: 200
        
        Validate:
            - Navigation:
                Xpath: id('navigation')

    subrequests: 
        # static urls for everything really static, can use variables stored in the request above
        - static:
            - http://dev02.lab04b.dw.demandware.net/on/demandware.static/Sites-SiteGenesis-Site/Sites-apparel-catalog/default/v1415017657711/images/medium/PG.60119213.JJ887XX.PZ.jpg
            #- http://${host}/foobar.css
        # an Ajax request, same syntax than the Action aka request, response, validate, store, but cannot have
        # further subrequests (for now)    
        #- XHR:
            #name: MiniCart
            #request:
                #url: "http://${host}/minicart"
                #type: GET
                #encoded: false
            #params:
                #time: ${NOW}
            #response:
                #httpcode: 200
                #validate:
                    #header:
                        #xpath: id('titleIndex')
                        #matches: Foobar2
        # there could be more more static stuff after the ajax of course
        #- static:
            #- http://myhost.com/analytics.js

                
                
