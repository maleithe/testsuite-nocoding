###########   TOrder for SiteGenesis  ####################
#
# only one test per *.yml or *.yaml  !!!
#
####################################




- Action:

	Name: HomePage
	
	Request:
        Url: "http://dev03.stage05.dw.demandware.net/on/demandware.store/Sites-SiteGenesis-Site"
        Type: GET 
        Encoded: false
        
        Xhr: false  #true|false

    Response:
        Httpcode: 200
        
        Validate:
            - Navigation:
                Xpath: id('navigation')

    Subrequest: 
        # static urls for everything really static, can use variables stored in the request above
        - Static:
            - http://dev02.lab04c.dw.demandware.net/on/demandware.static/Sites-SiteGenesis-Site/Sites-storefront-catalog-en/default/v1423750142996/images/MenuBanner-Electronics.jpg
            - http://dev02.lab04c.dw.demandware.net/on/demandware.static/Sites-Site/-/-/jscript/ext/resources/css/ext-all.css
            
        - Static:
            - http://dev02.lab04c.dw.demandware.net/on/demandware.static/Sites-Site/-/-/jscript/ext/adapter/ext/ext-base.js

 
- Action:

	Name: ProductGridPage + Quickview
	
	Request:
        Url: "http://dev03.stage05.dw.demandware.net/s/SiteGenesis/mens/clothing/suits/25604524.html"
        Type: GET 
        Encoded: false
        
        Xhr: true  #true|false
        
        Parameters:
            - dwvar_25604524_color: BLACKFB
            - source: quickview
            - format: ajax 

    # the response validation
    Response:
        # expect these response code
        Httpcode: 200
        
        # verify
        #Validate:
            # this is a list, hence the verification takes place in that order
            # each verification step has a name to print it out when the step fails, 
            # makes debugging easier
            #- Header:
                # xpath only works for DOM mode
                #Xpath: id('titleIndex')
                #Matches: Check out our new panorama posters!

    Response:
        Httpcode: 200
        

    Subrequest: 
            
        # an Ajax request, same syntax than the Action aka request, response, validate, store, but cannot have
        # further subrequests (for now)    
        #- XHR:
            #Request:
                #Url: "http://dev03.stage05.dw.demandware.net/s/SiteGenesis/mens/clothing/suits/25604524.html?dwvar_25604524_color=BLACKFB&source=quickview"
                #Type: GET
                #Encoded: false
            
            #Parameters:
                #- format: "ajax"
            
            #response:
                #httpcode: 200
                #validate:
                    #header:
                        #xpath: id('titleIndex')
                        #matches: Foobar2



                
- Action:
    Name: XC-Homepage
    Request:
        Url: "https://www.xceptance.com/de/"
        Type: GET
        Encoded: false               
